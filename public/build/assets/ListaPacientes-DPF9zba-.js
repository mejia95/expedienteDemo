const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OpcionesListaPacientes-Cno0s9YO.js","assets/app-bY3qV11d.js","assets/app-Bp2dOKxi.css","assets/app-FkIzr6FL.css","assets/Aplicacion-DUGPUpZm.js","assets/moment-C5S46NFB.js","assets/_plugin-vue_export-helper-DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{u as ce,r as i,o as fe,a as pe,q as W,A as ve,b as r,c as T,d as g,w as a,e as l,f as n,t as d,h as f,m as j,i as _e,g as X,j as D,F as ye,k as ge,B as xe,W as be,_ as Ve}from"./app-bY3qV11d.js";import{_ as Ce}from"./App-DXzjI6g8.js";import{A as Fe}from"./Aplicacion-DUGPUpZm.js";/* empty css            */import"./AppStore-B5dmMze3.js";const ke={class:"poppins-semibold seccion-titulo"},we={class:"text-primary"},Pe={class:"text-primary"},ze={class:"text-primary"},$e={class:"poppins-semibold",style:{"font-size":"0.710rem"}},Te={class:"mx-1",style:{"font-size":"0.655rem"}},De={key:0,class:"mx-1",style:{"font-size":"0.655rem"}},Ue={key:1,style:{"font-size":"0.685rem"}},Ae={style:{"font-size":"0.785rem"}},Ne={class:"poppins-semibold chip-avatar"},qe={class:"elevation-1 bg-white"},Be={colspan:"6"},Ie="/pacientes",He={__name:"ListaPacientes",setup(Oe){const R=xe(()=>Ve(()=>import("./OpcionesListaPacientes-Cno0s9YO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),M=ce(),F=i(1),U=i([]),A=i(0),S=i(0),_=i(null),m=i(null),c=i(null),p=i(null),b=i(null),k=i(null),N=i(null),L=i(!1),w=i(!1),P=i(null),J=Fe(),q=i(!1),B=i(!1),K=i([{etiqueta:"Igual a ",valor:"1"},{etiqueta:"Mayor a ",valor:"2"},{etiqueta:"Menor a ",valor:"3"}]),V=i(!1);fe(async()=>{await M(0,{}),await C(),J.currentUrl=pe().url});const Q=[{title:"Inicio",href:"/"},{title:"Mis pacientes",href:"/pacientes/mis-pacientes"}],E=W(()=>{if(!p.value)return"";if(typeof p.value=="string"){const[s,e,o]=p.value.split("-");return`${o}/${e}/${s}`}return p.value instanceof Date?new Intl.DateTimeFormat("es-MX").format(p.value):""}),H=W(()=>{if(!c.value)return"";if(typeof c.value=="string"){const[s,e,o]=c.value.split("-");return`${o}/${e}/${s}`}return c.value instanceof Date?new Intl.DateTimeFormat("es-MX").format(c.value):""}),Y=()=>{be.get("/pacientes/nuevo")},C=async()=>{await M(0,{});const s=`${Ie}/lista/mis-pacientes`;var e={params:{pagina:F.value,ordenarPor:_.value,orden:m.value,FiltroDesde:c.value,FiltroHasta:p.value,NoConsultasCondicion:b.value,NoConsultas:k.value,busqueda:N.value}};await ve.get(s,e).then(o=>{L.value=!1,U.value=o.data,A.value=o.data.total,S.value=o.data.to}).catch(o=>{console.log(o)})},Z=async s=>{F.value=s,await C()},h=async()=>{var s=0;V.value=!0,(c.value||p.value)&&s++,b.value&&k.value>=0&&s++,P.value=s,F.value=1,await C(),V.value=!1,w.value=!1},ee=async()=>{V.value=!0,c.value=null,p.value=null,b.value=null,k.value=null,P.value=null,await C(),w.value=!1,V.value=!1},I=async s=>{_.value=s,m.value?m.value==1?m.value="-1":(m.value=null,_.value=null):m.value=1,await C()},le=()=>{C()};function ae(s,e){let o;return function(...v){clearTimeout(o),o=setTimeout(()=>s.apply(this,v),e)}}const te=ae(le,340);return(s,e)=>{const o=r("v-col"),v=r("v-btn"),u=r("v-row"),y=r("v-icon"),oe=r("v-badge"),z=r("v-text-field"),G=r("v-date-picker"),O=r("v-menu"),ne=r("v-select"),x=r("v-container"),se=r("v-card"),ie=r("v-avatar"),ue=r("v-chip"),re=r("v-pagination"),de=r("v-table"),me=r("v-empty-state");return g(),T(Ce,{breadcrumbs:Q},{default:a(()=>[l(x,{fluid:""},{default:a(()=>[l(u,{class:"my-4 mx-5","no-gutters":""},{default:a(()=>[l(o,{cols:"12"},{default:a(()=>[n("span",ke,d(s.$page.props.session.Dependencia)+" - PACIENTES",1)]),_:1}),l(o,{cols:"12"},{default:a(()=>e[17]||(e[17]=[n("div",{class:"poppins-light text-grey-darken-1"}," Gestión de pacientes en: agregar nuevos pacientes, consulta la información y actualización de datos. ",-1)])),_:1,__:[17]}),l(o,{cols:"12",class:"d-flex justify-end mt-lg-n10"},{default:a(()=>[l(v,{color:"primary",rounded:"lg",onClick:Y,class:"ma-2"},{default:a(()=>e[18]||(e[18]=[f(" Agregar Paciente ")])),_:1,__:[18]})]),_:1})]),_:1}),l(u,{class:"mx-5"},{default:a(()=>[l(o,{cols:"12",class:"mt-2"},{default:a(()=>[l(x,{fluid:"",class:"pa-0"},{default:a(()=>[l(u,{"no-gutters":"",class:"d-flex align-end pa-0"},{default:a(()=>[l(o,{cols:"4",sm:"8",md:"8",lg:"8",xl:"8"},{default:a(()=>[l(O,{modelValue:w.value,"onUpdate:modelValue":e[11]||(e[11]=t=>w.value=t),persistent:"","scroll-strategy":"block","close-on-content-click":!1,location:"bottom","offset-y":""},{activator:a(({props:t})=>[l(v,j({class:"pa-0",color:"white",rounded:"lg",variant:"tonal"},t),{default:a(()=>[l(y,{size:"15",color:"primary"},{default:a(()=>e[19]||(e[19]=[f("mdi-filter-variant")])),_:1,__:[19]}),e[20]||(e[20]=n("span",{class:"mx-2 text-primary text-none"},"Filtros",-1)),P.value>0?(g(),T(oe,{key:0,floating:"",color:"primary",content:P.value},null,8,["content"])):_e("",!0)]),_:2,__:[20]},1040)]),default:a(()=>[l(se,{width:"350",class:"rounded-xl"},{default:a(()=>[l(x,{fluid:""},{default:a(()=>[l(u,{class:"d-flex align-center"},{default:a(()=>[l(o,null,{default:a(()=>e[21]||(e[21]=[n("span",{class:"mx-4 poppins-semibold text-primary-darken-3",style:{"font-size":"1.175rem"}},"Filtros",-1)])),_:1,__:[21]}),l(o,{class:"d-flex justify-end"},{default:a(()=>[l(v,{icon:"",variant:"flat",size:"small",onClick:e[0]||(e[0]=t=>w.value=!1)},{default:a(()=>[l(y,{color:"primary"},{default:a(()=>e[22]||(e[22]=[f("mdi-close")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1}),l(u,{"no-gutters":""},{default:a(()=>[l(o,null,{default:a(()=>[l(x,{fluid:""},{default:a(()=>[l(u,null,{default:a(()=>[l(o,null,{default:a(()=>e[23]||(e[23]=[n("span",{class:"poppins-semibold text-primary-darken-3",style:{"font-size":"0.825rem"}},"Fecha de nacimiento",-1)])),_:1,__:[23]})]),_:1}),l(u,{class:"px-4","no-gutters":""},{default:a(()=>[l(o,{cols:"12",class:"mt-2"},{default:a(()=>[e[24]||(e[24]=n("span",{style:{"font-size":"0.775rem"}},"Desde",-1)),l(O,{modelValue:q.value,"onUpdate:modelValue":e[4]||(e[4]=t=>q.value=t),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:a(({props:t})=>[l(z,j({modelValue:H.value,"onUpdate:modelValue":e[1]||(e[1]=$=>H.value=$),placeholder:"dd/mm/yyyy",readonly:""},t,{variant:"solo-filled",density:"compact",rounded:"lg","hide-details":""}),null,16,["modelValue"])]),default:a(()=>[l(G,{modelValue:c.value,"onUpdate:modelValue":[e[2]||(e[2]=t=>c.value=t),e[3]||(e[3]=t=>q.value=!1)],locale:"es",color:"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1,__:[24]}),l(o,{cols:"12",class:"mt-2"},{default:a(()=>[e[25]||(e[25]=n("span",{style:{"font-size":"0.775rem"}},"Hasta",-1)),l(O,{modelValue:B.value,"onUpdate:modelValue":e[8]||(e[8]=t=>B.value=t),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:a(({props:t})=>[l(z,j({modelValue:E.value,"onUpdate:modelValue":e[5]||(e[5]=$=>E.value=$),placeholder:"dd/mm/yyyy",readonly:""},t,{variant:"solo-filled",density:"compact",rounded:"lg",disabled:!c.value,"hide-details":""}),null,16,["modelValue","disabled"])]),default:a(()=>[l(G,{modelValue:p.value,"onUpdate:modelValue":[e[6]||(e[6]=t=>p.value=t),e[7]||(e[7]=t=>B.value=!1)],locale:"es",color:"primary",min:c.value},null,8,["modelValue","min"])]),_:1},8,["modelValue"])]),_:1,__:[25]})]),_:1}),l(u,null,{default:a(()=>[l(o,{cols:"12"},{default:a(()=>e[26]||(e[26]=[n("span",{class:"poppins-semibold text-primary-darken-3",style:{"font-size":"0.825rem"}},"No. Consultas",-1)])),_:1,__:[26]})]),_:1}),l(u,{class:"px-4","no-gutters":""},{default:a(()=>[l(o,{cols:"8",class:"mr-2 mt-3"},{default:a(()=>[l(ne,{variant:"solo-filled",modelValue:b.value,"onUpdate:modelValue":e[9]||(e[9]=t=>b.value=t),items:K.value,"item-title":"etiqueta","item-value":"valor","hide-details":"",density:"compact",flat:""},null,8,["modelValue","items"])]),_:1}),l(o,{class:"mt-3"},{default:a(()=>[l(z,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=t=>k.value=t),density:"compact",disabled:!b.value,type:"number",variant:"solo-filled","hide-details":"",flat:"",min:"0"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),l(u)]),_:1})]),_:1})]),_:1}),l(u,{"no-gutters":"",class:"my-5"},{default:a(()=>[l(o,{cols:"12",sm:"6",md:"6",lg:"6",xl:"6",class:"d-flex justify-center order-sm-1 order-md-1 order-lg-1 order-xl-1"},{default:a(()=>[l(v,{rounded:"lg",color:"primary",width:"85%",loading:V.value,onClick:h},{default:a(()=>e[27]||(e[27]=[f("Aplicar")])),_:1,__:[27]},8,["loading"])]),_:1}),l(o,{cols:"12",sm:"6",md:"6",lg:"6",xl:"6",class:"mt-1 mt-sm-0 mt-md-0 mt-lg-0 mt-xl-0 d-flex justify-center order-sm-0 order-md-0 order-lg-0 order-xl-0"},{default:a(()=>[l(v,{width:"85%",onClick:ee,loading:V.value,rounded:"lg",variant:"tonal",color:"primary"},{default:a(()=>[l(y,{size:"15"},{default:a(()=>e[28]||(e[28]=[f("mdi-trash-can")])),_:1,__:[28]}),e[29]||(e[29]=n("span",{class:"mx-1 text-none"},"Limpiar",-1))]),_:1,__:[29]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(o,{cols:"6",sm:"4",md:"4",lg:"4",xl:"4",class:"d-flex justify-end"},{default:a(()=>[l(z,{density:"compact",label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined",flat:"",readonly:L.value,modelValue:N.value,"onUpdate:modelValue":[e[12]||(e[12]=t=>N.value=t),X(te)],"hide-details":"",rounded:"lg","single-line":""},null,8,["readonly","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),A.value>0?(g(),T(o,{key:0},{default:a(()=>[l(de,{density:"compact",class:"rounded-lg elevation-0 border-thin"},{default:a(()=>[n("thead",null,[n("tr",null,[e[33]||(e[33]=n("th",{class:"text-primary"},"#",-1)),n("th",we,[e[30]||(e[30]=n("span",{class:"mr-2"},"Paciente ",-1)),l(v,{icon:"",variant:"flat",size:"x-small",onClick:e[13]||(e[13]=t=>I("nombreCompleto"))},{default:a(()=>[l(y,{color:"primary"},{default:a(()=>[f(d(_.value=="nombreCompleto"&&m.value==1?"mdi-menu-up":_.value=="nombreCompleto"&&m.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),n("th",Pe,[e[31]||(e[31]=n("span",{class:"mr-2"},"Fecha nacimiento",-1)),l(v,{icon:"",variant:"flat",size:"x-small",onClick:e[14]||(e[14]=t=>I("fecha_nacimiento"))},{default:a(()=>[l(y,{color:"primary"},{default:a(()=>[f(d(_.value=="fecha_nacimiento"&&m.value==1?"mdi-menu-up":_.value=="fecha_nacimiento"&&m.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),n("th",ze,[e[32]||(e[32]=n("span",{class:"mr-2"},"Consultas",-1)),l(v,{icon:"",variant:"flat",size:"x-small",onClick:e[15]||(e[15]=t=>I("TotalConsultas"))},{default:a(()=>[l(y,{color:"primary"},{default:a(()=>[f(d(_.value=="TotalConsultas"&&m.value==1?"mdi-menu-up":_.value=="TotalConsultas"&&m.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),e[34]||(e[34]=n("th",{class:"text-primary"},"Opciones",-1))])]),n("tbody",null,[(g(!0),D(ye,null,ge(U.value.data,t=>(g(),D("tr",null,[n("td",null,d(t.index),1),n("td",null,[l(x,{fluid:""},{default:a(()=>[l(u,{class:"d-flex align-center","no-gutters":""},{default:a(()=>[l(o,{cols:"12",class:"text-uppercase"},{default:a(()=>[n("span",$e,d(t.paciente),1)]),_:2},1024)]),_:2},1024),l(u,{class:"d-flex align-center pa-0 mt-n1","no-gutters":""},{default:a(()=>[l(o,{cols:"12"},{default:a(()=>[l(y,{size:"11"},{default:a(()=>e[35]||(e[35]=[f("mdi-mail")])),_:1,__:[35]}),n("span",Te,d(t.mail?t.mail:"S/C"),1)]),_:2},1024)]),_:2},1024),l(u,{class:"d-flex align-center mt-n1 pa-0","no-gutters":""},{default:a(()=>[l(o,{cols:"12"},{default:a(()=>[l(y,{size:"11",class:"mr-2"},{default:a(()=>e[36]||(e[36]=[f("mdi-phone")])),_:1,__:[36]}),t.telefono||t.telefono_celular?(g(),D("span",De,"Cel. "+d(t.telefono)+", "+d(t.telefono_celular),1)):(g(),D("span",Ue,"S/T"))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),n("td",null,[l(x,{fluid:""},{default:a(()=>[l(u,{class:"d-flex align-center","no-gutters":""},{default:a(()=>[l(o,{cols:"12"},{default:a(()=>[n("span",Ae,d(t.fecha_nacimiento),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),n("td",null,[l(ue,{color:"primary",class:"ma-1 cursor-pointer",onClick:$=>s.$router.push(`/pacientes/consultas/${t.pid}`)},{default:a(()=>[l(ie,{size:"25",class:"pa-3 text-center",icon:"",color:"primary"},{default:a(()=>[n("span",Ne,d(t.consultas>=100?"99+":t.consultas),1)]),_:2},1024),e[37]||(e[37]=n("span",{class:"mx-1"},"consulta(s)",-1))]),_:2,__:[37]},1032,["onClick"])]),n("td",null,[l(X(R),{paciente:t},null,8,["paciente"])])]))),256))]),n("tfoot",null,[n("tr",qe,[n("td",Be,[l(x,{fluid:"",class:"pa-0"},{default:a(()=>[l(u,{"no-gutters":""},{default:a(()=>[l(o,{class:"d-flex align-center text-primary"},{default:a(()=>[f(" Mostrando "+d(S.value)+" de "+d(A.value)+" registros ",1)]),_:1}),l(o,{class:"d-flex justify-end"},{default:a(()=>[l(re,{modelValue:F.value,"onUpdate:modelValue":[e[16]||(e[16]=t=>F.value=t),Z],color:"primary",length:U.value.last_page,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})])])])]),_:1})]),_:1})):(g(),T(o,{key:1,cols:"12"},{default:a(()=>[l(me,{color:"primary",icon:"mdi-magnify"},{title:a(()=>e[38]||(e[38]=[n("p",{class:"text-primary poppins-semibold"}," Sin resultados ",-1)])),text:a(()=>e[39]||(e[39]=[n("p",{class:"text-primary"}," No se encontraron datos que coincidan con los filtros aplicados o no hay información disponible en este momento. ",-1)])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}}};export{He as default};
