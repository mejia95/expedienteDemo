const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OpcionesListaPacientes-Cno0s9YO.js","assets/app-bY3qV11d.js","assets/app-Bp2dOKxi.css","assets/app-FkIzr6FL.css","assets/Aplicacion-DUGPUpZm.js","assets/moment-C5S46NFB.js","assets/_plugin-vue_export-helper-DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{u as me,r as u,o as fe,a as ce,q as X,A as pe,b as d,c as T,d as y,w as t,e as l,f as n,h as p,m as j,i as ve,g as R,t as f,j as U,F as _e,k as ye,B as ge,_ as xe}from"./app-bY3qV11d.js";import{_ as be}from"./App-DXzjI6g8.js";import{A as Ve}from"./Aplicacion-DUGPUpZm.js";/* empty css            */import"./AppStore-B5dmMze3.js";const Ce={class:"text-primary"},Fe={class:"text-primary"},ke={class:"text-primary"},we={class:"poppins-semibold",style:{"font-size":"0.710rem"}},ze={class:"mx-1",style:{"font-size":"0.655rem"}},Pe={key:0,class:"mx-1",style:{"font-size":"0.655rem"}},$e={key:1,style:{"font-size":"0.685rem"}},Te={style:{"font-size":"0.785rem"}},Ue={class:"poppins-semibold chip-avatar"},De={class:"elevation-1 bg-white"},qe={colspan:"6"},Be="/pacientes",Me={__name:"ListaPacientesGlobales",setup(Ie){const J=ge(()=>xe(()=>import("./OpcionesListaPacientes-Cno0s9YO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),L=me(),F=u(1),D=u([]),q=u(0),M=u(0),v=u(null),r=u(null),m=u(null),c=u(null),b=u(null),k=u(null),B=u(null),S=u(!1),w=u(!1),z=u(null),K=Ve(),I=u(!1),N=u(!1),Q=u([{etiqueta:"Igual a ",valor:"1"},{etiqueta:"Mayor a ",valor:"2"},{etiqueta:"Menor a ",valor:"3"}]),V=u(!1);fe(async()=>{await L(0,{}),await C(),K.currentUrl=ce().url});const W=[{title:"Inicio",href:"/"},{title:"Todos los pacientes ",href:"/pacientes/todos"}],H=X(()=>{if(!c.value)return"";if(typeof c.value=="string"){const[i,e,o]=c.value.split("-");return`${o}/${e}/${i}`}return c.value instanceof Date?new Intl.DateTimeFormat("es-MX").format(c.value):""}),E=X(()=>{if(!m.value)return"";if(typeof m.value=="string"){const[i,e,o]=m.value.split("-");return`${o}/${e}/${i}`}return m.value instanceof Date?new Intl.DateTimeFormat("es-MX").format(m.value):""}),C=async()=>{await L(0,{});const i=`${Be}/lista-pacientes`;var e={params:{pagina:F.value,ordenarPor:v.value,orden:r.value,FiltroDesde:m.value,FiltroHasta:c.value,NoConsultasCondicion:b.value,NoConsultas:k.value,busqueda:B.value}};await pe.get(i,e).then(o=>{S.value=!1,D.value=o.data,q.value=o.data.total,M.value=o.data.to}).catch(o=>{console.log(o)})},Y=async i=>{F.value=i,await C()},Z=async()=>{var i=0;V.value=!0,(m.value||c.value)&&i++,b.value&&k.value>=0&&i++,z.value=i,F.value=1,await C(),V.value=!1,w.value=!1},h=async()=>{V.value=!0,m.value=null,c.value=null,b.value=null,k.value=null,z.value=null,await C(),w.value=!1,V.value=!1},O=async i=>{v.value=i,r.value?r.value==1?r.value="-1":(r.value=null,v.value=null):r.value=1,await C()},ee=()=>{C()};function le(i,e){let o;return function(...s){clearTimeout(o),o=setTimeout(()=>i.apply(this,s),e)}}const te=le(ee,340);return(i,e)=>{const o=d("v-col"),s=d("v-row"),_=d("v-icon"),ae=d("v-badge"),g=d("v-btn"),P=d("v-text-field"),G=d("v-date-picker"),A=d("v-menu"),oe=d("v-select"),x=d("v-container"),ne=d("v-card"),se=d("v-avatar"),ue=d("v-chip"),ie=d("v-pagination"),de=d("v-table"),re=d("v-empty-state");return y(),T(be,{breadcrumbs:W},{default:t(()=>[l(x,{fluid:""},{default:t(()=>[l(s,{class:"my-4 mx-5","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[17]||(e[17]=[n("span",{class:"poppins-semibold seccion-titulo"},"Información de pacientes ",-1)])),_:1,__:[17]}),l(o,{cols:"12"},{default:t(()=>e[18]||(e[18]=[n("div",{class:"poppins-light text-grey-darken-1"}," Gestión de pacientes: agregar nuevos pacientes, consulta la información y actualización de datos. ",-1)])),_:1,__:[18]})]),_:1}),l(s,{class:"mx-5"},{default:t(()=>[l(o,{cols:"12",class:"mt-2"},{default:t(()=>[l(x,{fluid:"",class:"pa-0"},{default:t(()=>[l(s,{"no-gutters":"",class:"d-flex align-end pa-0"},{default:t(()=>[l(o,{cols:"4",sm:"8",md:"8",lg:"8",xl:"8"},{default:t(()=>[l(A,{modelValue:w.value,"onUpdate:modelValue":e[11]||(e[11]=a=>w.value=a),persistent:"","scroll-strategy":"block","close-on-content-click":!1,location:"bottom","offset-y":""},{activator:t(({props:a})=>[l(g,j({class:"pa-0",color:"white",rounded:"lg",variant:"tonal"},a),{default:t(()=>[l(_,{size:"15",color:"primary"},{default:t(()=>e[19]||(e[19]=[p("mdi-filter-variant")])),_:1,__:[19]}),e[20]||(e[20]=n("span",{class:"mx-2 text-primary text-none"},"Filtros",-1)),z.value>0?(y(),T(ae,{key:0,floating:"",color:"primary",content:z.value},null,8,["content"])):ve("",!0)]),_:2,__:[20]},1040)]),default:t(()=>[l(ne,{width:"350",class:"rounded-xl"},{default:t(()=>[l(x,{fluid:""},{default:t(()=>[l(s,{class:"d-flex align-center"},{default:t(()=>[l(o,null,{default:t(()=>e[21]||(e[21]=[n("span",{class:"mx-4 poppins-semibold text-primary-darken-3",style:{"font-size":"1.175rem"}},"Filtros",-1)])),_:1,__:[21]}),l(o,{class:"d-flex justify-end"},{default:t(()=>[l(g,{icon:"",variant:"flat",size:"small",onClick:e[0]||(e[0]=a=>w.value=!1)},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>e[22]||(e[22]=[p("mdi-close")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1}),l(s,{"no-gutters":""},{default:t(()=>[l(o,null,{default:t(()=>[l(x,{fluid:""},{default:t(()=>[l(s,null,{default:t(()=>[l(o,null,{default:t(()=>e[23]||(e[23]=[n("span",{class:"poppins-semibold text-primary-darken-3",style:{"font-size":"0.825rem"}},"Fecha de nacimiento",-1)])),_:1,__:[23]})]),_:1}),l(s,{class:"px-4","no-gutters":""},{default:t(()=>[l(o,{cols:"12",class:"mt-2"},{default:t(()=>[e[24]||(e[24]=n("span",{style:{"font-size":"0.775rem"}},"Desde",-1)),l(A,{modelValue:I.value,"onUpdate:modelValue":e[4]||(e[4]=a=>I.value=a),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:t(({props:a})=>[l(P,j({modelValue:E.value,"onUpdate:modelValue":e[1]||(e[1]=$=>E.value=$),placeholder:"dd/mm/yyyy",readonly:""},a,{variant:"solo-filled",density:"compact",rounded:"lg","hide-details":""}),null,16,["modelValue"])]),default:t(()=>[l(G,{modelValue:m.value,"onUpdate:modelValue":[e[2]||(e[2]=a=>m.value=a),e[3]||(e[3]=a=>I.value=!1)],locale:"es",color:"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1,__:[24]}),l(o,{cols:"12",class:"mt-2"},{default:t(()=>[e[25]||(e[25]=n("span",{style:{"font-size":"0.775rem"}},"Hasta",-1)),l(A,{modelValue:N.value,"onUpdate:modelValue":e[8]||(e[8]=a=>N.value=a),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:t(({props:a})=>[l(P,j({modelValue:H.value,"onUpdate:modelValue":e[5]||(e[5]=$=>H.value=$),placeholder:"dd/mm/yyyy",readonly:""},a,{variant:"solo-filled",density:"compact",rounded:"lg",disabled:!m.value,"hide-details":""}),null,16,["modelValue","disabled"])]),default:t(()=>[l(G,{modelValue:c.value,"onUpdate:modelValue":[e[6]||(e[6]=a=>c.value=a),e[7]||(e[7]=a=>N.value=!1)],locale:"es",color:"primary",min:m.value},null,8,["modelValue","min"])]),_:1},8,["modelValue"])]),_:1,__:[25]})]),_:1}),l(s,null,{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[26]||(e[26]=[n("span",{class:"poppins-semibold text-primary-darken-3",style:{"font-size":"0.825rem"}},"No. Consultas",-1)])),_:1,__:[26]})]),_:1}),l(s,{class:"px-4","no-gutters":""},{default:t(()=>[l(o,{cols:"8",class:"mr-2 mt-3"},{default:t(()=>[l(oe,{variant:"solo-filled",modelValue:b.value,"onUpdate:modelValue":e[9]||(e[9]=a=>b.value=a),items:Q.value,"item-title":"etiqueta","item-value":"valor","hide-details":"",density:"compact",flat:""},null,8,["modelValue","items"])]),_:1}),l(o,{class:"mt-3"},{default:t(()=>[l(P,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=a=>k.value=a),density:"compact",disabled:!b.value,type:"number",variant:"solo-filled","hide-details":"",flat:"",min:"0"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),l(s)]),_:1})]),_:1})]),_:1}),l(s,{"no-gutters":"",class:"my-5"},{default:t(()=>[l(o,{cols:"12",sm:"6",md:"6",lg:"6",xl:"6",class:"d-flex justify-center order-sm-1 order-md-1 order-lg-1 order-xl-1"},{default:t(()=>[l(g,{rounded:"lg",color:"primary",width:"85%",loading:V.value,onClick:Z},{default:t(()=>e[27]||(e[27]=[p("Aplicar")])),_:1,__:[27]},8,["loading"])]),_:1}),l(o,{cols:"12",sm:"6",md:"6",lg:"6",xl:"6",class:"mt-1 mt-sm-0 mt-md-0 mt-lg-0 mt-xl-0 d-flex justify-center order-sm-0 order-md-0 order-lg-0 order-xl-0"},{default:t(()=>[l(g,{width:"85%",onClick:h,loading:V.value,rounded:"lg",variant:"tonal",color:"primary"},{default:t(()=>[l(_,{size:"15"},{default:t(()=>e[28]||(e[28]=[p("mdi-trash-can")])),_:1,__:[28]}),e[29]||(e[29]=n("span",{class:"mx-1 text-none"},"Limpiar",-1))]),_:1,__:[29]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(o,{cols:"6",sm:"4",md:"4",lg:"4",xl:"4",class:"d-flex justify-end"},{default:t(()=>[l(P,{density:"compact",label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"outlined",flat:"",readonly:S.value,modelValue:B.value,"onUpdate:modelValue":[e[12]||(e[12]=a=>B.value=a),R(te)],"hide-details":"",rounded:"lg","single-line":""},null,8,["readonly","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),q.value>0?(y(),T(o,{key:0},{default:t(()=>[l(de,{density:"compact",class:"rounded-lg elevation-0 border-thin"},{default:t(()=>[n("thead",null,[n("tr",null,[e[33]||(e[33]=n("th",{class:"text-primary"},"#",-1)),n("th",Ce,[e[30]||(e[30]=n("span",{class:"mr-2"},"Paciente ",-1)),l(g,{icon:"",variant:"flat",size:"x-small",onClick:e[13]||(e[13]=a=>O("nombreCompleto"))},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>[p(f(v.value=="nombreCompleto"&&r.value==1?"mdi-menu-up":v.value=="nombreCompleto"&&r.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),n("th",Fe,[e[31]||(e[31]=n("span",{class:"mr-2"},"Fecha nacimiento",-1)),l(g,{icon:"",variant:"flat",size:"x-small",onClick:e[14]||(e[14]=a=>O("fecha_nacimiento"))},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>[p(f(v.value=="fecha_nacimiento"&&r.value==1?"mdi-menu-up":v.value=="fecha_nacimiento"&&r.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),n("th",ke,[e[32]||(e[32]=n("span",{class:"mr-2"},"Consultas",-1)),l(g,{icon:"",variant:"flat",size:"x-small",onClick:e[15]||(e[15]=a=>O("TotalConsultas"))},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>[p(f(v.value=="TotalConsultas"&&r.value==1?"mdi-menu-up":v.value=="TotalConsultas"&&r.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),e[34]||(e[34]=n("th",{class:"text-primary"},"Opciones",-1))])]),n("tbody",null,[(y(!0),U(_e,null,ye(D.value.data,a=>(y(),U("tr",null,[n("td",null,f(a.index),1),n("td",null,[l(x,{fluid:""},{default:t(()=>[l(s,{class:"d-flex align-center","no-gutters":""},{default:t(()=>[l(o,{cols:"12",class:"text-uppercase"},{default:t(()=>[n("span",we,f(a.paciente),1)]),_:2},1024)]),_:2},1024),l(s,{class:"d-flex align-center pa-0 mt-n1","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[l(_,{size:"11"},{default:t(()=>e[35]||(e[35]=[p("mdi-mail")])),_:1,__:[35]}),n("span",ze,f(a.mail?a.mail:"S/C"),1)]),_:2},1024)]),_:2},1024),l(s,{class:"d-flex align-center mt-n1 pa-0","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[l(_,{size:"11",class:"mr-2"},{default:t(()=>e[36]||(e[36]=[p("mdi-phone")])),_:1,__:[36]}),a.telefono||a.telefono_celular?(y(),U("span",Pe,"Cel. "+f(a.telefono)+", "+f(a.telefono_celular),1)):(y(),U("span",$e,"S/T"))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),n("td",null,[l(x,{fluid:""},{default:t(()=>[l(s,{class:"d-flex align-center","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[n("span",Te,f(a.fecha_nacimiento),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),n("td",null,[l(ue,{color:"primary",class:"ma-1 cursor-pointer",onClick:$=>i.$router.push(`/pacientes/consultas/${a.pid}`)},{default:t(()=>[l(se,{size:"25",class:"pa-3 text-center",icon:"",color:"primary"},{default:t(()=>[n("span",Ue,f(a.consultas>=100?"99+":a.consultas),1)]),_:2},1024),e[37]||(e[37]=n("span",{class:"mx-1"},"consulta(s)",-1))]),_:2,__:[37]},1032,["onClick"])]),n("td",null,[l(R(J),{paciente:a},null,8,["paciente"])])]))),256))]),n("tfoot",null,[n("tr",De,[n("td",qe,[l(x,{fluid:"",class:"pa-0"},{default:t(()=>[l(s,{"no-gutters":""},{default:t(()=>[l(o,{class:"d-flex align-center text-primary"},{default:t(()=>[p(" Mostrando "+f(M.value)+" de "+f(q.value)+" registros ",1)]),_:1}),l(o,{class:"d-flex justify-end"},{default:t(()=>[l(ie,{modelValue:F.value,"onUpdate:modelValue":[e[16]||(e[16]=a=>F.value=a),Y],color:"primary",length:D.value.last_page,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})])])])]),_:1})]),_:1})):(y(),T(o,{key:1,cols:"12"},{default:t(()=>[l(re,{color:"primary",icon:"mdi-magnify"},{title:t(()=>e[38]||(e[38]=[n("p",{class:"text-primary poppins-semibold"}," Sin resultados ",-1)])),text:t(()=>e[39]||(e[39]=[n("p",{class:"text-primary"}," No se encontraron datos que coincidan con los filtros aplicados o no hay información disponible en este momento. ",-1)])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}}};export{Me as default};
