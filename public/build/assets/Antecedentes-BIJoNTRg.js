const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ComponentAntecedentes-RHUjYX6e.js","assets/Aplicacion-DUGPUpZm.js","assets/app-bY3qV11d.js","assets/app-Bp2dOKxi.css","assets/app-FkIzr6FL.css","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/OpcionesListaPacientes-Cno0s9YO.js","assets/moment-C5S46NFB.js"])))=>i.map(i=>d[i]);
import{r as d,u as me,o as ce,A as fe,p as pe,b as u,c as C,d as m,w as t,e as l,f as n,j as w,h as f,m as N,i as ve,g as H,F as G,t as c,k as _e,B as R,_ as J}from"./app-bY3qV11d.js";import{_ as ye}from"./App-DXzjI6g8.js";import{A as K}from"./Aplicacion-DUGPUpZm.js";/* empty css            */import"./AppStore-B5dmMze3.js";const ge={class:"text-primary"},xe={class:"text-primary"},be={class:"pa-0"},Fe={class:"poppins-semibold",style:{"font-size":"0.710rem"}},Ve={class:"mx-1",style:{"font-size":"0.655rem"}},ke={key:0,class:"mx-1",style:{"font-size":"0.655rem"}},Ce={key:1,style:{"font-size":"0.685rem"}},we={class:"pa-0"},Pe={style:{"font-size":"0.785rem"}},ze={class:"pa-0"},Ae={class:"elevation-1 bg-white"},De={colspan:"6"},Te="/pacientes",He={__name:"Antecedentes",setup(Ue){const Q=R(()=>J(()=>import("./ComponentAntecedentes-RHUjYX6e.js"),__vite__mapDeps([0,1,2,3,4,5]))),W=R(()=>J(()=>import("./OpcionesListaPacientes-Cno0s9YO.js"),__vite__mapDeps([6,2,3,4,1,7,5]))),X=[{title:"Inicio",href:"/"},{title:"Antecedentes",href:"/pacientes/antecedentes"}];d(null);const M=me();K(),ce(async()=>{await M(0,{}),await x()});const P=d(!1),z=d([]),$=async s=>{v.value=s,r.value?r.value==1?r.value="-1":(r.value=null,v.value=null):r.value=1,await x()},Y=async s=>{F.value=s,await x()},Z=async()=>{b.value=!0,p.value=null,k.value=null,U.value=null,B.value=null,A.value=null,await x(),V.value=!1,b.value=!1},h=async()=>{var s=0;b.value=!0,(p.value||k.value)&&s++,U.value&&B.value>=0&&s++,A.value=s,F.value=1,await x(),b.value=!1,V.value=!1},x=async()=>{await M(0,{}),D.value=!0;const s=`${Te}/lista-pacientes`;var e={params:{pagina:F.value,ordenarPor:v.value,orden:r.value,FiltroDesde:p.value,FiltroHasta:k.value,NoConsultasCondicion:U.value,NoConsultas:B.value,busqueda:O.value}};await fe.get(s,e).then(o=>{D.value=!1,z.value=o.data,j.value=o.data.total,L.value=o.data.to}).catch(o=>{console.log(o)})},V=d(!1);K();const A=d(0),b=d(!1),p=d(null),k=d(null),U=d(null),B=d(null);d([{etiqueta:"Igual a ",valor:"1"},{etiqueta:"Mayor a ",valor:"2"},{etiqueta:"Menor a ",valor:"3"}]);const O=d(null),D=d(!1);d("Pacientes");const j=d(0),L=d(0),F=d(1),v=d(null),r=d(null),ee=()=>{P.value=!1},le=()=>{F.value=1,x()};function te(s,e){let o;return function(...i){clearTimeout(o),o=setTimeout(()=>s.apply(this,i),e)}}const ae=te(le,340);return pe("CerrarModal",ee),(s,e)=>{const o=u("v-col"),i=u("v-row"),_=u("v-icon"),oe=u("v-badge"),y=u("v-btn"),q=u("v-text-field"),E=u("v-date-picker"),I=u("v-menu"),g=u("v-container"),S=u("v-card"),ne=u("v-skeleton-loader"),se=u("v-pagination"),de=u("v-table"),ie=u("v-empty-state"),ue=u("v-card-actions"),re=u("v-dialog");return m(),C(ye,{breadcrumbs:X},{default:t(()=>[l(g,{fluid:""},{default:t(()=>[l(i,{class:"my-4 mx-5","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>e[16]||(e[16]=[n("span",{class:"poppins-semibold seccion-titulo"},"Antecedentes de pacientes",-1)])),_:1,__:[16]}),l(o,{cols:"12"},{default:t(()=>e[17]||(e[17]=[n("div",{class:"poppins-light text-grey-darken-1"}," Gestión de antecedentes: consulta la información y actualización de datos. ",-1)])),_:1,__:[17]})]),_:1}),l(i),l(i,{class:"d-flex align-center mx-1 mx-sm-10 mx-md-10 mx-lg-10 mx-xl-10 mt-8 mb-8","no-gutters":""},{default:t(()=>[l(o,{cols:"12",class:"mt-2"},{default:t(()=>[l(g,{fluid:"",class:"pa-0"},{default:t(()=>[l(i,{"no-gutters":"",class:"d-flex align-end pa-0"},{default:t(()=>[l(o,{cols:"6",sm:"8",md:"8",lg:"8",xl:"8"},{default:t(()=>[l(I,{modelValue:V.value,"onUpdate:modelValue":e[9]||(e[9]=a=>V.value=a),persistent:"","scroll-strategy":"block","close-on-content-click":!1,location:"bottom","offset-y":""},{activator:t(({props:a})=>[l(y,N({class:"pa-0",color:"white",rounded:"lg",variant:"tonal"},a),{default:t(()=>[l(_,{size:"15",color:"primary"},{default:t(()=>e[18]||(e[18]=[f("mdi-filter-variant")])),_:1,__:[18]}),e[19]||(e[19]=n("span",{class:"mx-2 text-primary text-none"},"Filtros",-1)),A.value>0?(m(),C(oe,{key:0,floating:"",color:"primary",content:A.value},null,8,["content"])):ve("",!0)]),_:2,__:[19]},1040)]),default:t(()=>[l(S,{width:"350",class:"rounded-xl"},{default:t(()=>[l(g,{fluid:""},{default:t(()=>[l(i,{class:"d-flex align-center"},{default:t(()=>[l(o,null,{default:t(()=>e[20]||(e[20]=[n("span",{class:"mx-4 poppins-semibold text-primary-darken-3",style:{"font-size":"1.175rem"}},"Filtros",-1)])),_:1,__:[20]}),l(o,{class:"d-flex justify-end"},{default:t(()=>[l(y,{icon:"",variant:"flat",size:"small",onClick:e[0]||(e[0]=a=>V.value=!1)},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>e[21]||(e[21]=[f("mdi-close")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1}),l(i,{"no-gutters":""},{default:t(()=>[l(o,null,{default:t(()=>[l(g,{fluid:""},{default:t(()=>[l(i,null,{default:t(()=>[l(o,null,{default:t(()=>e[22]||(e[22]=[n("span",{class:"poppins-semibold text-primary-darken-3",style:{"font-size":"0.825rem"}},"Fecha de nacimiento",-1)])),_:1,__:[22]})]),_:1}),l(i,{class:"px-4","no-gutters":""},{default:t(()=>[l(o,{cols:"12",class:"mt-2"},{default:t(()=>[e[23]||(e[23]=n("span",{style:{"font-size":"0.775rem"}},"Desde",-1)),l(I,{modelValue:s.menuFechaDesde,"onUpdate:modelValue":e[4]||(e[4]=a=>s.menuFechaDesde=a),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:t(({props:a})=>[l(q,N({modelValue:s.FechaDesdeFiltroFormateada,"onUpdate:modelValue":e[1]||(e[1]=T=>s.FechaDesdeFiltroFormateada=T),placeholder:"dd/mm/yyyy",readonly:""},a,{variant:"solo-filled",density:"compact",rounded:"lg","hide-details":""}),null,16,["modelValue"])]),default:t(()=>[l(E,{modelValue:p.value,"onUpdate:modelValue":[e[2]||(e[2]=a=>p.value=a),e[3]||(e[3]=a=>s.menuFechaDesde=!1)],locale:"es",color:"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1,__:[23]}),l(o,{cols:"12",class:"mt-2"},{default:t(()=>[e[24]||(e[24]=n("span",{style:{"font-size":"0.775rem"}},"Hasta",-1)),l(I,{modelValue:s.menuFechaHasta,"onUpdate:modelValue":e[8]||(e[8]=a=>s.menuFechaHasta=a),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:t(({props:a})=>[l(q,N({modelValue:s.FechaHastaFiltroFormateada,"onUpdate:modelValue":e[5]||(e[5]=T=>s.FechaHastaFiltroFormateada=T),placeholder:"dd/mm/yyyy",readonly:""},a,{variant:"solo-filled",density:"compact",rounded:"lg",disabled:!p.value,"hide-details":""}),null,16,["modelValue","disabled"])]),default:t(()=>[l(E,{modelValue:k.value,"onUpdate:modelValue":[e[6]||(e[6]=a=>k.value=a),e[7]||(e[7]=a=>s.menuFechaHasta=!1)],locale:"es",color:"primary",min:p.value},null,8,["modelValue","min"])]),_:1},8,["modelValue"])]),_:1,__:[24]})]),_:1}),l(i)]),_:1})]),_:1})]),_:1}),l(i,{"no-gutters":"",class:"my-5"},{default:t(()=>[l(o,{cols:"12",sm:"6",md:"6",lg:"6",xl:"6",class:"d-flex justify-center order-sm-1 order-md-1 order-lg-1 order-xl-1"},{default:t(()=>[l(y,{rounded:"lg",color:"primary",width:"85%",loading:b.value,onClick:h},{default:t(()=>e[25]||(e[25]=[f("Aplicar")])),_:1,__:[25]},8,["loading"])]),_:1}),l(o,{cols:"12",sm:"6",md:"6",lg:"6",xl:"6",class:"mt-1 mt-sm-0 mt-md-0 mt-lg-0 mt-xl-0 d-flex justify-center order-sm-0 order-md-0 order-lg-0 order-xl-0"},{default:t(()=>[l(y,{width:"85%",onClick:Z,loading:b.value,rounded:"lg",variant:"tonal",color:"primary"},{default:t(()=>[l(_,{size:"15"},{default:t(()=>e[26]||(e[26]=[f("mdi-trash-can")])),_:1,__:[26]}),e[27]||(e[27]=n("span",{class:"mx-1 text-none"},"Limpiar",-1))]),_:1,__:[27]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(o,{cols:"6",sm:"4",md:"4",lg:"4",xl:"4",class:"d-flex justify-end"},{default:t(()=>[l(q,{density:"compact",label:"Buscar","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"",readonly:D.value,modelValue:O.value,"onUpdate:modelValue":[e[10]||(e[10]=a=>O.value=a),H(ae)],"hide-details":"",rounded:"lg","single-line":""},null,8,["readonly","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),D.value?(m(),C(o,{key:0,cols:"12"},{default:t(()=>[l(ne,{type:"table-tbody"})]),_:1})):(m(),w(G,{key:1},[parseInt(z.value.to)>0?(m(),C(o,{key:0,class:"mt-1",cols:"12"},{default:t(()=>[l(de,{density:"compact",id:"tabla",class:"rounded-lg elevation-0 border-thin"},{default:t(()=>[n("thead",null,[n("tr",null,[e[30]||(e[30]=n("th",{class:"text-primary"},"#",-1)),n("th",ge,[e[28]||(e[28]=n("span",{class:"mr-2"},"Paciente",-1)),l(y,{icon:"",variant:"flat",size:"x-small",onClick:e[11]||(e[11]=a=>$("nombreCompleto"))},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>[f(c(v.value=="nombreCompleto"&&r.value==1?"mdi-menu-up":v.value=="nombreCompleto"&&r.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),n("th",xe,[e[29]||(e[29]=n("span",{class:"mr-2"},"Fecha nacimiento",-1)),l(y,{icon:"",variant:"flat",size:"x-small",onClick:e[12]||(e[12]=a=>$("fecha_nacimiento"))},{default:t(()=>[l(_,{color:"primary"},{default:t(()=>[f(c(v.value=="fecha_nacimiento"&&r.value==1?"mdi-menu-up":v.value=="fecha_nacimiento"&&r.value==-1?"mdi-menu-down":"mdi-menu-swap"),1)]),_:1})]),_:1})]),e[31]||(e[31]=n("th",{class:"text-primary"},"Opciones",-1))])]),n("tbody",null,[(m(!0),w(G,null,_e(z.value.data,(a,T)=>(m(),w("tr",null,[n("td",null,c(a.index),1),n("td",be,[l(g,{fluid:""},{default:t(()=>[l(i,{class:"d-flex align-center","no-gutters":""},{default:t(()=>[l(o,{cols:"12",class:"text-uppercase"},{default:t(()=>[n("span",Fe,c(a.paciente),1)]),_:2},1024)]),_:2},1024),l(i,{class:"d-flex align-center pa-0 mt-n1","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[l(_,{size:"11"},{default:t(()=>e[32]||(e[32]=[f("mdi-mail")])),_:1,__:[32]}),n("span",Ve,c(a.mail?a.mail:"S/C"),1)]),_:2},1024)]),_:2},1024),l(i,{class:"d-flex align-center mt-n1 pa-0","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[l(_,{size:"11",class:"mr-2"},{default:t(()=>e[33]||(e[33]=[f("mdi-phone")])),_:1,__:[33]}),a.telefono||a.telefono_celular?(m(),w("span",ke,"Cel. "+c(a.telefono)+", "+c(a.telefono_celular),1)):(m(),w("span",Ce,"S/T"))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),n("td",we,[l(g,{fluid:""},{default:t(()=>[l(i,{class:"d-flex align-center","no-gutters":""},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[n("span",Pe,c(a.fecha_nacimiento),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),n("td",ze,[l(H(W),{paciente:a,solo_antecedentes:!0},null,8,["paciente"])])]))),256))]),n("tfoot",null,[n("tr",Ae,[n("td",De,[l(g,{fluid:"",class:"pa-0"},{default:t(()=>[l(i,{"no-gutters":""},{default:t(()=>[l(o,{class:"d-flex align-center text-primary"},{default:t(()=>[f(" Mostrando "+c(L.value)+" de "+c(j.value)+" registros ",1)]),_:1}),l(o,{class:"d-flex justify-end"},{default:t(()=>[l(se,{modelValue:F.value,"onUpdate:modelValue":[e[13]||(e[13]=a=>F.value=a),Y],color:"primary",length:z.value.last_page,"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})])])])]),_:1})]),_:1})):(m(),C(o,{key:1,cols:"12"},{default:t(()=>[l(ie,{color:"primary",icon:"mdi-magnify"},{title:t(()=>e[34]||(e[34]=[n("p",{class:"text-primary-darken-2 poppins-semibold"}," Sin resultados ",-1)])),text:t(()=>e[35]||(e[35]=[n("p",{class:"text-grey-darken-3"}," No se encontraron datos que coincidan con los filtros aplicados o no hay información disponible en este momento. ",-1)])),_:1})]),_:1}))],64))]),_:1}),l(re,{fullscreen:"",modelValue:P.value,"onUpdate:modelValue":e[15]||(e[15]=a=>P.value=a)},{default:t(()=>[l(S,null,{default:t(()=>[l(H(Q)),l(ue,null,{default:t(()=>[l(y,{text:"Cerrar",onClick:e[14]||(e[14]=a=>P.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{He as default};
