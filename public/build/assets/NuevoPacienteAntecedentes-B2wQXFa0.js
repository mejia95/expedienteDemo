import{A as T}from"./Aplicacion-DUGPUpZm.js";import{a as q,r as c,o as $,A as m,p as E,b as u,c as G,d as I,w as s,e as t,f as d,g as i,h,t as z}from"./app-bY3qV11d.js";/* empty css                                                                  *//* empty css            */const g="/catalogos",j={__name:"NuevoPacienteAntecedentes",setup(O){const C=q().props.id,a=T(),p=c(null),f=c(null),v=c([]),_=c(null),x=c([]),w=c(null);c(null),c(null),$(async()=>{await V(),await y(),await N()});const N=async()=>{const n={params:{id_consulta:a.paciente._id}},e=`/pacientes/${C}/antecedente`;await m.get(e,n).then(o=>{a.cirugias_hospitalizaciones=o.data.cirugias_hospitalizaciones,a.inmunizaciones=o.data.inmunizaciones,a.antecedentesPerPatologicos=o.data.antecedentesPerPatologicos,a.antecedentesNoPatologicos=o.data.antecedentesNoPatologicos,a.antecedentesGinecoObs=o.data.antecedentesGinecoObs,a.toxicomanias=o.data.toxicomanias,a.alergias=o.data.alergias,a.cardiovascular=o.data.cardiovascular,a.respiratorio=o.data.respiratorio,a.NefroUrologico=o.data.NefroUrologico,a.Neurologico=o.data.Neurologico,a.Hematologicos=o.data.Hematologicos,a.Ginecologicos=o.data.Ginecologicos,a.Infectologicos=o.data.Infectologicos,a.Endocrinologicos=o.data.Endocrinologicos,a.Quirurgicos=o.data.Quirurgicos,a.Alergicos=o.data.Alergicos,a.SocioecEpide=o.data.SocioecEpide,a.AntecedentesHeredo=o.data.AntecedentesHeredo,a.seccion_antecedentes=!0}).catch(o=>{console.log(o),a.seccion_antecedentes=!1})},V=async n=>{const e=`${g}/toxicomanias`;await m.get(e).then(o=>{v.value=o.data}).catch(o=>{console.log(o)})},y=async()=>{const n=`${g}/enfermedades-frecuentes`;await m.get(n).then(e=>{x.value=e.data}).catch(e=>{console.log(e)})},U=n=>{const e=`${g}/toxicomanias/agregar`;m.post(e,{toxicomania:n}).then(async o=>{V(),a.toxicomanias.push(o.data.nueva_toxicomania),_.value.search=""}).catch(o=>{})},k=n=>{var e=0;console.log("Buscando toxicomania: ",n),v.value.forEach(o=>{o.etiqueta.toLowerCase()===n.toLowerCase().trim()&&e++}),e<1&&(p.value=n)},B=n=>{var e=0;console.log("Buscando antecedente: ",n),x.value.forEach(o=>{o.eNombre.toLowerCase()===n.toLowerCase().trim()&&e++}),e<1&&(f.value=n)},H=n=>{const e=`${g}/enfermedades-frecuentes/agregar`;m.post(e,{enfermedad:n}).then(o=>{y(),a.antecedentesPerPatologicos.push(o.data.nueva_enfermedad),w.value.search=""}).catch(o=>{})};return E("FuncionesPadre",{}),(n,e)=>{const o=u("v-textarea"),r=u("v-col"),A=u("v-list-item-title"),P=u("v-list-item"),b=u("v-autocomplete"),S=u("v-row");return I(),G(S,{class:"px-sm-2 px-md-4 px-lg-4 px-xl-4"},{default:s(()=>[t(r,{cols:"12"},{default:s(()=>[e[10]||(e[10]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Antecedentes heredofamiliares",-1)),t(o,{modelValue:i(a).AntecedentesHeredo,"onUpdate:modelValue":e[0]||(e[0]=l=>i(a).AntecedentesHeredo=l),placeholder:"Antecedentes heredofamiliares",required:"","auto-grow":"","row-height":"4",rows:"3",counter:255,maxlength:"255",variant:"outlined",flat:"",rounded:"lg",color:"primary"},null,8,["modelValue"])]),_:1,__:[10]}),t(r,{cols:"12"},{default:s(()=>[e[11]||(e[11]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Antecedentes personales no patológicos",-1)),t(o,{modelValue:i(a).antecedentesNoPatologicos,"onUpdate:modelValue":e[1]||(e[1]=l=>i(a).antecedentesNoPatologicos=l),placeholder:"Antecedentes personales no patológicos",color:"primary","auto-grow":"","row-height":"4",rows:"3",variant:"outlined",flat:"",counter:255,maxlength:"255",rounded:"lg"},null,8,["modelValue"])]),_:1,__:[11]}),t(r,null,{default:s(()=>[e[12]||(e[12]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Toxicomanías ",-1)),t(b,{"hide-details":"auto",color:"primary",ref_key:"toxicomaniaBusqueda",ref:_,"onUpdate:search":k,modelValue:i(a).toxicomanias,"onUpdate:modelValue":e[3]||(e[3]=l=>i(a).toxicomanias=l),multiple:"",items:v.value,"item-value":"valor","item-title":"etiqueta",variant:"outlined",flat:"",rounded:"lg",placeholder:"Seleccione una o varias toxicomanías","menu-props":{scrollStrategy:"block",width:"200",maxHeight:"200",contentClass:"rounded-lg"}},{"no-data":s(()=>[t(P,{onClick:e[2]||(e[2]=l=>U(p.value))},{default:s(()=>[t(A,null,{default:s(()=>[h("Agregar - "+z(p.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items"])]),_:1,__:[12]}),t(r,{cols:"12"},{default:s(()=>[e[13]||(e[13]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Antecedentes personales patológicos",-1)),t(b,{"hide-details":"auto",ref_key:"antecedentesPP",ref:w,color:"primary",variant:"outlined",flat:"","onUpdate:search":B,modelValue:i(a).antecedentesPerPatologicos,"onUpdate:modelValue":e[5]||(e[5]=l=>i(a).antecedentesPerPatologicos=l),multiple:"",items:x.value,"item-value":"eID","item-title":"eNombre",rounded:"lg",placeholder:"Seleccione uno o varios antecedentes","menu-props":{scrollStrategy:"block",width:"200",maxHeight:"200",contentClass:"rounded-lg"}},{"no-data":s(()=>[t(P,{onClick:e[4]||(e[4]=l=>H(f.value))},{default:s(()=>[t(A,null,{default:s(()=>[h("Agregar - "+z(f.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items"])]),_:1,__:[13]}),t(r,{cols:"12"},{default:s(()=>[e[14]||(e[14]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Cirugías y hospitalizaciones",-1)),t(o,{modelValue:i(a).cirugias_hospitalizaciones,"onUpdate:modelValue":e[6]||(e[6]=l=>i(a).cirugias_hospitalizaciones=l),placeholder:"Cirugías y hospitalizaciones",required:"","auto-grow":"","row-height":"4",rows:"3",counter:255,maxlength:"255",variant:"outlined",flat:"",rounded:"lg",color:"primary"},null,8,["modelValue"])]),_:1,__:[14]}),t(r,{cols:"12"},{default:s(()=>[e[15]||(e[15]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Inmunizaciones",-1)),t(o,{modelValue:i(a).inmunizaciones,"onUpdate:modelValue":e[7]||(e[7]=l=>i(a).inmunizaciones=l),counter:255,placeholder:"Inmunizaciones",required:"","auto-grow":"","row-height":"4",maxlength:"255",rows:"3",rounded:"lg",variant:"outlined",flat:"",color:"primary"},null,8,["modelValue"])]),_:1,__:[15]}),t(r,{cols:"12"},{default:s(()=>[e[16]||(e[16]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Antecedentes gineco-obstétricos",-1)),t(o,{modelValue:i(a).antecedentesGinecoObs,"onUpdate:modelValue":e[8]||(e[8]=l=>i(a).antecedentesGinecoObs=l),color:"primary","auto-grow":"",counter:255,maxlength:"255",rounded:"lg",variant:"outlined",flat:""},null,8,["modelValue"])]),_:1,__:[16]}),t(r,{cols:"12"},{default:s(()=>[e[17]||(e[17]=d("span",{style:{"font-size":"0.875rem"},class:"poppins-semibold"},"Alergias",-1)),t(o,{modelValue:i(a).alergias,"onUpdate:modelValue":e[9]||(e[9]=l=>i(a).alergias=l),color:"primary",rounded:"lg","auto-grow":"",placeholder:"Ingrese las alergias del paciente",counter:255,maxlength:"255",variant:"outlined",flat:""},null,8,["modelValue"])]),_:1,__:[17]})]),_:1})}}};export{j as default};
