import{_ as R}from"./App-DXzjI6g8.js";import{A as S}from"./AppStore-B5dmMze3.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as s,c,d as a,w as t,j as b,F as P,k as $,e as o,n as V,f as n,h as r,t as v,g as x,r as w,o as N,S as q,i as A,a as I,z as G}from"./app-bY3qV11d.js";/* empty css            */const H={class:"poppins-semibold"},J={class:"text-caption text-grey-darken-2 mt-1"},K={__name:"TotalPacientes",props:{totales:Array},setup(g){const u=S();return(_,l)=>{const i=s("v-icon"),f=s("v-card-title"),y=s("v-skeleton-loader"),e=s("v-card-text"),m=s("v-card"),k=s("v-col"),C=s("v-row");return a(),c(C,{class:"mx-5 mt-5",align:"stretch"},{default:t(()=>[g.totales?(a(!0),b(P,{key:0},$(g.totales,(p,L)=>(a(),c(k,{key:L,cols:"12",sm:"6",md:"3",class:"mb-4"},{default:t(()=>[o(m,{class:V(`rounded-xl stat-card ${p.bg}`),elevation:"0"},{default:t(()=>[o(f,{class:"d-flex align-center gap-2 justify-center text-center mt-3"},{default:t(()=>[o(i,{color:p.color,size:"25",class:"mr-2"},{default:t(()=>[r(v(p.icon),1)]),_:2},1032,["color"]),n("span",H,v(p.title),1)]),_:2},1024),o(e,{class:"d-flex flex-column align-center justify-center"},{default:t(()=>[x(u).LoaderPeticionenCurso?(a(),c(y,{key:0,type:"heading",width:"80"})):(a(),b("span",{key:1,class:V(`display-2 font-weight-bold text-${p.color}`)},v(p.value),3)),n("span",J,v(p.subtitle),1)]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128)):(a(),b(P,{key:1},$(4,p=>o(k,{cols:"12",sm:"6",md:"3",class:"d-flex justify-center"},{default:t(()=>[o(y,{boilerplate:"",type:"image",width:"200"})]),_:1})),64))]),_:1})}}},O=F(K,[["__scopeId","data-v-bc39d487"]]),Q={class:"poppins-semibold text-medium-emphasis",style:{"font-size":"0.975rem"}},W={__name:"ActividadRecientePacientes",setup(g){const u=w([]);w(1);const _=S();N(async()=>{console.log("Montado tabla recientes"),_.LoaderPeticionenCurso=!0,await i("ultimos-pacientes-creados"),_.LoaderPeticionenCurso=!1});const l=w("creados"),i=async y=>{_.LoaderPeticionenCurso=!0,u.value=await f(`/api/reportes/${y}`),_.LoaderPeticionenCurso=!1};function f(y){return axios.get(y).then(e=>{var m;return((m=e.data)==null?void 0:m.data)??[]}).catch(e=>[])}return(y,e)=>{const m=s("v-icon"),k=s("v-tab"),C=s("v-tabs"),p=s("v-col"),L=s("v-spacer"),h=s("v-btn"),B=s("v-card-title"),M=s("v-skeleton-loader"),z=s("v-chip"),j=s("v-table"),D=s("v-empty-state"),T=s("v-card-text"),U=s("v-card"),E=s("v-row");return a(),c(E,{class:"mx-5 mt-2"},{default:t(()=>[o(p,{cols:"12"},{default:t(()=>[o(C,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=d=>l.value=d),color:"primary",disabled:x(_).LoaderPeticionenCurso},{default:t(()=>[o(k,{value:"creados",onClick:e[0]||(e[0]=d=>i("ultimos-pacientes-creados"))},{default:t(()=>[o(m,{start:""},{default:t(()=>e[3]||(e[3]=[r("mdi-account-plus")])),_:1,__:[3]}),e[4]||(e[4]=r(" Recién creados "))]),_:1,__:[4]}),o(k,{value:"modificados",onClick:e[1]||(e[1]=d=>i("ultimos-pacientes-modificados"))},{default:t(()=>[o(m,{start:""},{default:t(()=>e[5]||(e[5]=[r("mdi-account-edit")])),_:1,__:[5]}),e[6]||(e[6]=r(" Modificados recientemente "))]),_:1,__:[6]})]),_:1},8,["modelValue","disabled"])]),_:1}),o(p,{cols:"12",class:"mt-n2"},{default:t(()=>[o(U,{class:"rounded-xl",elevation:"0"},{default:t(()=>[o(B,{class:"d-flex align-center gap-2"},{default:t(()=>[o(m,{color:"primary",size:"20",class:"mr-2"},{default:t(()=>e[7]||(e[7]=[r("mdi-history")])),_:1,__:[7]}),n("span",Q,v(l.value=="creados"?"Pacientes recién creados":"Pacientes modificados recientemente"),1),o(L),o(x(q),{href:"/reportes/pacientes"},{default:t(()=>[o(h,{class:"text-none",color:"primary",variant:"text"},{default:t(()=>e[8]||(e[8]=[r("Ver todos los pacientes")])),_:1,__:[8]})]),_:1})]),_:1}),o(T,null,{default:t(()=>[x(_).LoaderPeticionenCurso?(a(),c(M,{key:0,type:"table"})):A("",!0),u.value.length>0?(a(),c(j,{key:1,class:"dashboard-table rounded-lg"},{default:t(()=>[n("thead",null,[n("tr",null,[e[9]||(e[9]=n("th",null,"Nombre",-1)),e[10]||(e[10]=n("th",null,"Edad",-1)),e[11]||(e[11]=n("th",null,"Género",-1)),e[12]||(e[12]=n("th",null,"Consultorio",-1)),n("th",null,v(l.value=="creados"?"Fecha de registro":"Fecha de actualización"),1)])]),n("tbody",null,[(a(!0),b(P,null,$(u.value,d=>(a(),b("tr",{key:d.pid,class:"hoverable-row"},[n("td",null,v(d.paciente),1),n("td",null,v(d.edad),1),n("td",null,[d.genero==="Masculino"?(a(),c(z,{key:0,color:"blue",size:"small",class:"text-white"},{default:t(()=>[o(m,{start:"",size:"16"},{default:t(()=>e[13]||(e[13]=[r("mdi-gender-male")])),_:1,__:[13]}),e[14]||(e[14]=r(" Masculino "))]),_:1,__:[14]})):d.genero==="Femenino"?(a(),c(z,{key:1,color:"pink",size:"small",class:"text-white"},{default:t(()=>[o(m,{start:"",size:"16"},{default:t(()=>e[15]||(e[15]=[r("mdi-gender-female")])),_:1,__:[15]}),e[16]||(e[16]=r(" Femenino "))]),_:1,__:[16]})):(a(),c(z,{key:2,color:"grey",size:"small",class:"text-white"},{default:t(()=>[o(m,{start:"",size:"16"},{default:t(()=>e[17]||(e[17]=[r("mdi-gender-male-female")])),_:1,__:[17]}),r(" "+v(d.genero||"Sin especificar"),1)]),_:2},1024))]),n("td",null,v(d.consultorio),1),n("td",null,v(d.created),1)]))),128))])]),_:1})):(a(),c(D,{key:2,icon:"mdi-history",title:"Sin registros para mostrar",text:"No hay actividad reciente de pacientes en este momento. Cuando existan nuevos registros, podrás consultar la información aquí."}))]),_:1})]),_:1})]),_:1})]),_:1})}}},X=F(W,[["__scopeId","data-v-374db5fa"]]),Y={__name:"Estadisticas",setup(g){const u=I(),_=S(),l=w([]);return N(async()=>{u.props.session.rolUsuario==2&&(_.LoaderPeticionenCurso=!0,await axios.get("/api/estadisticos/pacientes").then(i=>{var f;l.value=((f=i.data)==null?void 0:f.totales)??[]}).catch(i=>{l.value=[]}),_.LoaderPeticionenCurso=!1)}),(i,f)=>(a(),b(P,null,[x(u).props.session.rolUsuario==2?(a(),c(O,{key:0,totales:l.value},null,8,["totales"])):A("",!0),x(u).props.session.rolUsuario==2?(a(),c(X,{key:1})):A("",!0)],64))}},ae={__name:"Dashboard",setup(g){const u=[{title:"Dashboard",href:"/dashboard"}];return(_,l)=>{const i=s("v-col"),f=s("v-row"),y=s("v-container");return a(),b(P,null,[o(x(G),{title:"Dashboard"}),o(R,{breadcrumbs:u},{default:t(()=>[o(y,{fluid:""},{default:t(()=>[o(f,{class:"my-4 mx-5","no-gutters":""},{default:t(()=>[o(i,{cols:"12"},{default:t(()=>l[0]||(l[0]=[n("span",{class:"poppins-semibold seccion-titulo"},"Panel principal",-1)])),_:1,__:[0]}),o(i,{cols:"12"},{default:t(()=>l[1]||(l[1]=[n("div",{class:"poppins-light text-grey-darken-1"}," Bienvenido al sistema. Aquí puedes ver un resumen de la actividad reciente y estadísticas generales. ",-1)])),_:1,__:[1]})]),_:1}),o(Y)]),_:1})]),_:1})],64)}}};export{ae as default};
