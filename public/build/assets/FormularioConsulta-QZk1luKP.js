import{r as p,u as te,a as ae,o as oe,W as R,b as r,c as g,d as m,w as t,e,h as n,i as S,f as b,g as i,m as U,t as u,n as le,j as ie,F as ne,k as se,l as C,v as w}from"./app-bY3qV11d.js";import{_ as ce}from"./App-DXzjI6g8.js";/* empty css                                                                  */import ue from"./Test-BNLGG75L.js";import re from"./Antecedentes-rArwhDH7.js";import de from"./Exploracion-BO_3ZP8o.js";import fe from"./Estudios-CCynnZqx.js";import pe from"./Diagnosticos-1QhOLhkh.js";import{A as _e}from"./Aplicacion-DUGPUpZm.js";/* empty css            */import"./AppStore-B5dmMze3.js";import"./AppAlerta-CEk7FTVV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PielFanerasTejido-DkD0Aamz.js";import"./Cabeza-DAEiNfUt.js";import"./Oftalmologico-CEfITong.js";import"./Respiratorio-Ci7NFyIf.js";import"./Cadiovascular-fNa372Ws.js";import"./Abdomen-BPuukN2P.js";import"./Neurologico-DTdmLULj.js";import"./GinecoObstetrico-Vy_QNcfj.js";import"./Laboratorio-BW18qbKT.js";import"./Electrocardiograma-wm30GzQ_.js";import"./RadiografiaTorax-mCJY_iPD.js";const me={class:"text-primary mx-2 poppins-semibold"},ve={class:"mx-2 text-grey",style:{"font-size":"0.775rem"}},ge={id:"ocupacion-content"},xe={class:"mx-2"},P="/consulta",Je={__name:"FormularioConsulta",setup(be){p("miFuncionCallback");const O=te(),V=ae().props.id,B=p(!1),k=p(!1),h=p([0]);p(null);const x=p(null),E=p(null),I=p(null),T=p(null);p([]);const A=p([f=>f?!0:"El campo es requerido"]),o=_e();oe(async()=>{o.seccion_exploracion=!1,o.seccion_antecedentes=!1,o.seccion_estudios=!1,o.seccion_diagnostico=!1,console.log("Id de consulta ashbsadghjds hgsdajds"),await O(0,{});var f=document.getElementById("Ocupacion").clientWidth,a=document.getElementById("ocupacion-content").offsetWidth;a>f&&(B.value=!0),await N(),await j(),z(),await x.value.ObtenerExploracionTodos(),await x.value.seleccionarSeccion(10),x.value.ConsultarInformacionGuardada=1});const $=p(null),F=async f=>{switch(o.SeccionConsulta=f,f){case 0:await x.value.ObtenerExploracionTodos(),await x.value.seleccionarSeccion(10),x.value.ConsultarInformacionGuardada=1;break;case 1:await E.value.ConsultarAntecedente(),E.value.BanderaBusqueda=1;break;case 2:$.value.guardarInformacion=0,$.value.GuardarEstudiosLaboratorio();break;case 3:await T.value.ObtenerDatosDiagnostico(),T.value.BanderaBusqueda=1;break;case 4:await I.value.ConsultaMedicamentos();break}},N=()=>{o.loader_linear=!0;const f=`${P}/consulta_paciente/`;axios.get(f+V).then(a=>{o.paciente=a.data[0],o.loader_linear=!1,(a.data[0]?a.data[0].consulta_duplicada:"Si")=="Si"&&o.RolUsuario!=4&&o.PermisosVista(R,`/pacientes/${o.RutaPacientes}`)}).catch(a=>(console.log(a.status),a.status===510?o.PermisosVista(R,`/pacientes/${o.RutaPacientes}`):console.log(a.status)))},j=async()=>{o.loader_linear=!0;const f=`${P}/consulta_consultorios/`;await axios.get(f+V).then(a=>{o.clinicas=a.data.consultorios,o.seleccion_clinica=a.data.seleccion,o.loader_linear=!1}).catch(a=>a.status===510?o.PermisosVista(R,`/pacientes/${o.RutaPacientes}`):console.log(a.status))},z=async f=>{o.consultorio="nombre1",setTimeout(async()=>{const a={id_consulta:V,seleccion:f},l=`${P}/agregar_clinica/`;await axios.put(l,a).then(_=>{console.log("Esta es la respuesta",_.data)}).catch(_=>{})},500)},q=p([{title:"Exploración y consulta",to:"/consulta/valoracion",icono:o.opcion_faltante==0?"mdi-stethoscope":"mdi-circle",valor:2},{title:"Antecedentes",to:"/consulta/antecedentes",icono:"mdi-file-document-edit",valor:1},{title:"Estudios",to:"/consulta/estudios",icono:"mdi-test-tube",valor:2},{title:"Diagnóstico",to:"/consulta/diagnosticos",icono:"mdi-medical-bag",valor:2},{title:"Tratamiento",to:"/consulta/tratamiento",icono:"mdi-clipboard-plus-outline",valor:2}]),G=[{title:"Inicio",href:"/"},{title:"Pacientes",href:o.currentUrl},{title:"Nueva consulta",href:o.currentUrl}];return(f,a)=>{const l=r("v-col"),_=r("v-divider"),y=r("v-icon"),L=r("v-progress-linear"),M=r("v-chip"),W=r("v-list-item"),H=r("v-autocomplete"),s=r("v-row"),J=r("v-expansion-panel-title"),d=r("v-container"),D=r("v-btn"),K=r("v-expansion-panel-text"),Q=r("v-expansion-panel"),X=r("v-expansion-panels"),Y=r("v-slide-group-item"),Z=r("v-slide-group"),ee=r("v-alert");return m(),g(ce,{breadcrumbs:G},{default:t(()=>[e(d,{class:"bg-white my-5 rounded-lg pa-0 px-0 px-sm-4 px-md-4 px-lg-4 px-xl-4 py-2 contenedor"},{default:t(()=>[e(s,{class:"d-flex align-start ma-4"},{default:t(()=>[e(l,{cols:"12",class:"text-primary"},{default:t(()=>a[6]||(a[6]=[n("Clínica")])),_:1,__:[6]}),e(_),e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[i(o).opcion_clinica_faltante==1?(m(),g(y,{key:0,color:"red"},{default:t(()=>a[7]||(a[7]=[n("mdi-circle")])),_:1,__:[7]})):S("",!0),a[8]||(a[8]=b("label",null,"Selecciona la clínica ",-1)),i(o).loader_linear==!0?(m(),g(L,{key:1,modelValue:i(o).loader_linear,"onUpdate:modelValue":a[0]||(a[0]=c=>i(o).loader_linear=c),color:"primary",indeterminate:""},null,8,["modelValue"])):S("",!0),e(H,{modelValue:i(o).seleccion_clinica,"onUpdate:modelValue":[a[1]||(a[1]=c=>i(o).seleccion_clinica=c),a[2]||(a[2]=c=>z(i(o).seleccion_clinica))],rounded:"lg",items:i(o).clinicas,"item-title":"nombre","item-value":"_id",rules:A.value,chips:"",color:"primary","menu-props":{scrollStrategy:"block",width:"200",maxHeight:"200",contentClass:"rounded-lg"},flat:"",disabled:"",variant:"solo-filled"},{chip:t(({props:c,item:v})=>[e(M,U({color:"primary"},c,{subtitle:v.raw.turno,text:v.raw.nombre}),null,16,["subtitle","text"])]),item:t(({props:c,item:v})=>[e(W,U(c,{subtitle:v.raw.turno,title:v.raw.nombre}),null,16,["subtitle","title"])]),_:1},8,["modelValue","items","rules"])]),_:1,__:[8]})]),_:1}),e(s,{class:"d-flex align-start ma-4"},{default:t(()=>[e(l,{cols:"12",class:"text-primary"},{default:t(()=>a[9]||(a[9]=[n("Ficha de identificación del paciente")])),_:1,__:[9]}),e(_,{class:"mx-2"}),e(l,{class:"mt-4 mb-n4"},{default:t(()=>[e(X,{color:"primary-lighten-5",modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=c=>h.value=c),elevation:"0"},{default:t(()=>[e(Q,{class:"rounded-sicodi border-thin"},{default:t(()=>[e(J,null,{default:t(({expanded:c})=>[e(s,{"no-gutters":""},{default:t(()=>[c?(m(),g(l,{key:0,class:"d-flex justify-start align-center poppins-semibold text-primary",cols:"12"},{default:t(()=>[e(y,{size:"15",color:"primary"},{default:t(()=>a[10]||(a[10]=[n("mdi-account")])),_:1,__:[10]}),a[11]||(a[11]=b("span",{class:"mx-2"},"Información del paciente",-1))]),_:1,__:[11]})):(m(),g(l,{key:1,class:"d-flex justify-start align-center",cols:"12"},{default:t(()=>[e(y,{size:"15",color:"primary"},{default:t(()=>a[12]||(a[12]=[n("mdi-account")])),_:1,__:[12]}),b("span",me,u(i(o).paciente.primer_apellido)+" "+u(i(o).paciente.segundo_apellido)+" "+u(i(o).paciente.nombre),1),b("span",ve,"# "+u(i(o).paciente._id),1)]),_:1}))]),_:2},1024)]),_:1}),e(K,null,{default:t(()=>[e(d,{class:"pa-0"},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,null,{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.primer_apellido)+" "+u(i(o).paciente.segundo_apellido)+" "+u(i(o).paciente.nombre),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[13]||(a[13]=[n("Paciente")])),_:1,__:[13]})]),_:1})]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.fecha_nacimiento),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[14]||(a[14]=[n("Fecha de nacimiento")])),_:1,__:[14]})]),_:1})]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.edad),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[15]||(a[15]=[n("Edad")])),_:1,__:[15]})]),_:1})]),_:1})]),_:1})]),_:1}),e(_),e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.etiqueta_genero),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[16]||(a[16]=[n("Sexo")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1}),e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[e(d,{fluid:"",class:"pa-0"},{default:t(()=>[e(s,null,{default:t(()=>[e(l,{cols:"10",class:le(k.value?null:"text-truncate"),id:"Ocupacion"},{default:t(()=>[b("span",ge,u(i(o).paciente.ocupacion),1)]),_:1},8,["class"]),B.value?(m(),g(l,{key:0,class:"text-center"},{default:t(()=>[e(D,{color:"primary",icon:"",density:"compact",variant:"text",onClick:a[3]||(a[3]=c=>k.value=!k.value)},{default:t(()=>[e(y,null,{default:t(()=>[n(u(k.value?"mdi-minus":"mdi-plus"),1)]),_:1})]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1})]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[17]||(a[17]=[n("Ocupación")])),_:1,__:[17]})]),_:1})]),_:1})]),_:1}),e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.estado_civil),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[18]||(a[18]=[n("Estado civil")])),_:1,__:[18]})]),_:1})]),_:1})]),_:1})]),_:1}),e(_),e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.nacionalidad),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[19]||(a[19]=[n("Nacionalidad")])),_:1,__:[19]})]),_:1})]),_:1})]),_:1}),e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.curp),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[20]||(a[20]=[n("CURP")])),_:1,__:[20]})]),_:1})]),_:1})]),_:1}),e(l,{cols:"12",sm:"6",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.tipo_sangre),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[21]||(a[21]=[n("Tipo de sangre")])),_:1,__:[21]})]),_:1})]),_:1})]),_:1})]),_:1}),e(_),e(s,{"no-gutters":""},{default:t(()=>[e(l,null,{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.telefono),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[22]||(a[22]=[n("Teléfono")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.telefono_celular),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[23]||(a[23]=[n("Teléfono celular")])),_:1,__:[23]})]),_:1})]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{fluid:""},{default:t(()=>[e(s,{"no-gutters":""},{default:t(()=>[e(l,{cols:"12",class:"ficha-identificacion-valor"},{default:t(()=>[n(u(i(o).paciente.correo),1)]),_:1}),e(l,{cols:"12",class:"ficha-identificacion-titulo poppins-semibold text-grey"},{default:t(()=>a[24]||(a[24]=[n("Correo electrónico")])),_:1,__:[24]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s,{class:"ma-4 mt-n1 rounded-lg elevation-0"},{default:t(()=>[e(l,{cols:"12",class:"text-primary",id:"contenedor-consulta"},{default:t(()=>a[25]||(a[25]=[n("Consulta ")])),_:1,__:[25]}),e(_,{class:"mx-2"}),e(l,{cols:"12",class:"mt-1"},{default:t(()=>[e(Z,{"show-arrows":"",modelValue:i(o).SeccionConsulta,"onUpdate:modelValue":a[5]||(a[5]=c=>i(o).SeccionConsulta=c)},{default:t(()=>[(m(!0),ie(ne,null,se(q.value,(c,v)=>(m(),g(Y,null,{default:t(({isSelected:Ce,toggle:we})=>[e(D,{class:"ma-2",rounded:"",size:"small",color:"primary",variant:i(o).SeccionConsulta!=v?"outlined":"flat",onClick:ke=>F(v)},{default:t(()=>[c.icono?(m(),g(y,{key:0,size:"small",color:i(o).opcion_faltante==1&&c.icono=="mdi-stethoscope"?"red":void 0},{default:t(()=>[n(u(c.icono=="mdi-stethoscope"&&i(o).opcion_faltante==1?"mdi-circle":c.icono),1)]),_:2},1032,["color"])):S("",!0),b("span",xe,u(c.title),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),256))]),_:1},8,["modelValue"])]),_:1}),e(l,{cols:"12",class:"mt-3 pa-0 pa-sm-4 pa-md-4 pa-lg-4 pa-xl-4"},{default:t(()=>[e(d,{fluid:"",class:"rounded-lg mt-n5 pa-0"},{default:t(()=>[e(s,{class:"mb-2 mt-n10"},{default:t(()=>[e(l,{class:"poppins-semibold"},{default:t(()=>[e(ee,{color:"primary",variant:"tonal",density:"compact",rounded:"lg",border:""},{default:t(()=>[e(y,{size:"15"},{default:t(()=>a[26]||(a[26]=[n("mdi-information")])),_:1,__:[26]}),a[27]||(a[27]=b("span",{style:{"font-size":"0.875rem"},class:"mx-2"},"Recuerde guardar cada sección para evitar la pérdida de información en caso de imprevistos.",-1))]),_:1,__:[27]})]),_:1})]),_:1}),C(e(s,{"no-gutters":"",class:"overflow-auto",id:"consulta-secciones"},{default:t(()=>[e(re,{ref_key:"RefAntecedentes",ref:E},null,512)]),_:1},512),[[w,i(o).SeccionConsulta==1]]),C(e(s,{"no-gutters":"",class:"overflow-auto",id:"consulta-secciones"},{default:t(()=>[e(de,{ref_key:"ExploracionRef",ref:x},null,512)]),_:1},512),[[w,i(o).SeccionConsulta==0]]),C(e(s,{"no-gutters":"",class:"overflow-auto",id:"consulta-secciones"},{default:t(()=>[e(fe,{ref_key:"EstudiosLaboratorio",ref:$},null,512)]),_:1},512),[[w,i(o).SeccionConsulta===2]]),C(e(s,{"no-gutters":"",class:"overflow-auto",id:"consulta-secciones"},{default:t(()=>[e(pe,{ref_key:"RefDiagnostico",ref:T},null,512)]),_:1},512),[[w,i(o).SeccionConsulta==3]]),C(e(s,{"no-gutters":"",id:"consulta-secciones"},{default:t(()=>[e(ue,{ref_key:"RefTratamiento",ref:I},null,512)]),_:1},512),[[w,i(o).SeccionConsulta==4]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Je as default};
